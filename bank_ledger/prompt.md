# Bank Ledger

**_ This problem was generated by ChatGPT _**

## ðŸ§ª Simulation Prompt: BankLedger

You're implementing a simplified internal ledger system for a small bank. The system manages accounts, supports deposits, withdrawals, and transfers, and tracks transaction history and balances. There are no external systems â€” you're just implementing the logic.

Youâ€™ll build this system incrementally over 4 levels.

ðŸ”§ Setup
Start with:

```
class BankLedger:
    def __init__(self):
        pass
```

## ðŸ§© Level 1: Accounts and balances (10â€“15 min)

Implement the following methods:

```
def open_account(self, account_id: str, initial_balance: int = 0) -> None:
    """Creates a new account with an optional initial balance."""

def get_balance(self, account_id: str) -> int:
    """Returns the current balance of the given account."""
```

Constraints:

- Assume account IDs are unique.
- Balances are stored as integers (in cents, to avoid floating point issues).

All inputs are valid for now.

Example:

```
bank = BankLedger()
bank.open_account("acct1", 1000)
assert bank.get_balance("acct1") == 1000
```

## ðŸ§© Level 2: Deposits and withdrawals (15â€“20 min)

Add:

```
def deposit(self, account_id: str, amount: int) -> None:
    """Adds funds to the given account."""

def withdraw(self, account_id: str, amount: int) -> bool:
    """
    Subtracts funds if there is sufficient balance.
    Returns True if successful, False otherwise.
    """
```

Rules:

- Withdrawal should fail (return False) if the balance is insufficient.
- Deposits and withdrawals are tracked in account balance.

Example:

```
bank = BankLedger()
bank.open_account("acct1", 500)
bank.deposit("acct1", 200)
assert bank.get_balance("acct1") == 700

success = bank.withdraw("acct1", 800)
assert success is False
assert bank.get_balance("acct1") == 700
```

## ðŸ§© Level 3: Transfers between accounts (20â€“25 min)

Add:

```
def transfer(self, from_account: str, to_account: str, amount: int) -> bool:
    """
    Moves money from one account to another.
    Returns True if successful, False otherwise.
    """
```

Rules:

- Only succeed if the sender has enough funds.
- Both accounts must exist.
- Atomic: either the entire transfer happens or nothing.

Example:

```
bank = BankLedger()
bank.open_account("A", 1000)
bank.open_account("B", 200)
assert bank.transfer("A", "B", 300) is True
assert bank.get_balance("A") == 700
assert bank.get_balance("B") == 500
```

## ðŸ§© Level 4: Transaction history and audit (25â€“30 min)

Add:

```
def get_transaction_history(self, account_id: str) -> List[str]:
    """
    Returns a list of human-readable transaction records for the account,
    in chronological order.
    """
```

Rules:

- Record each deposit, withdrawal, and transfer (inbound and outbound)

Format:

"Deposited $10.00"
"Withdrew $25.00"
"Sent $5.00 to acct456"
"Received $5.00 from acct123"

Use dollar formatting with two decimals, but still store amounts as integers.

Example:

```
bank = BankLedger()
bank.open_account("A", 1000)
bank.open_account("B", 0)
bank.deposit("A", 500)
bank.withdraw("A", 200)
bank.transfer("A", "B", 300)
assert bank.get_transaction_history("A") == [
"Deposited $5.00",
"Withdrew $2.00",
"Sent $3.00 to B"
]
assert bank.get_transaction_history("B") == [
"Received $3.00 from A"
]
```
